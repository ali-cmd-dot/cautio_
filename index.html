<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="inventory.css">
    <title>Cautio</title>
    <link rel="icon" href="favicon.ico">
    
    <!-- Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    
</head>
<body class="__variable_3c557b dark font-sans dark:bg-dark-fill-base-400 locale-en" style="--primary-font:'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'">
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center">
        <div class="flex flex-col items-center">
            <div id="nprogress">
                <div class="bar">
                    <div class="peg"></div>
                </div>
                <div class="spinner">
                    <div class="spinner-icon"></div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <div class="text-heading-6 dark:text-dark-base-600 mb-2">Processing...</div>
                <div class="text-body-l-regular dark:text-dark-base-500">Please wait</div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="ml-5 min-h-screen flex-1 pr-6" style="padding-left:4.68rem;padding-top:0">
        <style>
            #nprogress {
                pointer-events: none;
            }

            #nprogress .bar {
                background: #0045ff;
                position: fixed;
                z-index: 99999;
                top: 0;
                left: 0;
                width: 100%;
                height: 5px;
            }

            #nprogress .peg {
                display: block;
                position: absolute;
                right: 0px;
                width: 100px;
                height: 100%;
                box-shadow: 0 0 10px #0045ff, 0 0 5px #0045ff;
                opacity: 1.0;
                -webkit-transform: rotate(3deg) translate(0px, -4px);
                -ms-transform: rotate(3deg) translate(0px, -4px);
                transform: rotate(3deg) translate(0px, -4px);
            }

            #nprogress .spinner {
                display: block;
                position: fixed;
                z-index: 1031;
                top: 15px;
                right: 15px;
            }

            #nprogress .spinner-icon {
                width: 18px;
                height: 18px;
                box-sizing: border-box;
                border: solid 2px transparent;
                border-top-color: #0045ff;
                border-left-color: #0045ff;
                border-radius: 50%;
                -webkit-animation: nprogress-spinner 400ms linear infinite;
                animation: nprogress-spinner 400ms linear infinite;
            }

            .nprogress-custom-parent {
                overflow: hidden;
                position: relative;
            }

            .nprogress-custom-parent #nprogress .spinner,
            .nprogress-custom-parent #nprogress .bar {
                position: absolute;
            }

            @-webkit-keyframes nprogress-spinner {
                0%   { -webkit-transform: rotate(0deg); }
                100% { -webkit-transform: rotate(360deg); }
            }
            @keyframes nprogress-spinner {
                0%   { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
        
        <div>
            <div class="grid grid-cols-2">
                <div class="relative flex items-center justify-center sm:mt-0">
                    <div class="absolute inset-0 h-full px-[3.5rem]">
                        <div class="lines hidden sm:flex sm:h-full sm:w-full sm:justify-between">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="relative z-10 flex items-center justify-center sm:mt-0 sm:h-screen">
                        <img alt="Auth" fetchpriority="high" width="436" height="436" decoding="async" data-nimg="1" style="color:transparent" srcset="main-logo.png 1x, main-logo-1.png 2x" src="main-logo-1.png">
                    </div>
                </div>
                <div class="flex justify-center self-center">
                    <div class="flex w-[27.18rem] flex-col p-4">
                        <div class="flex justify-center">
                            <svg class="h-[3.8rem] w-[3.8rem] rounded-2xl" width="60" height="60" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="1080" height="1080" fill="#0026A3"></rect>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                            </svg>
                        </div>
                        <div class="my-8 flex flex-col items-center gap-2">
                            <span class="text-heading-6 text-dark-base-600">Sign in</span>
                        </div>
                        <form id="loginForm" class="gap-4" novalidate="">
                            <div class="mb-5">
                                <div class="flex flex-col items-start">
                                    <label for="loginEmail" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Email</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="loginEmail" style="padding-right:16px" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="email" placeholder="example@gmail.com" name="email" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3 mt-5">
                                <div class="flex flex-col items-start">
                                    <label for="loginPassword" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Password</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="loginPassword" style="padding-right: 44px;" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="password" placeholder="Password" name="password" value="">
                                        <div class="absolute right-2 top-1/2 flex -translate-y-1/2 items-center space-x-2">
                                            <span class="cursor-pointer" onclick="togglePasswordVisibility()">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye h-6 w-6 text-dark-stroke-base-600">
                                                    <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                                    <circle cx="12" cy="12" r="3"></circle>
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a class="flex cursor-pointer justify-start text-body-m-medium dark:text-brand-blue-600" onclick="showForgotPasswordPage()">Forgot Password?</a>
                            <div>
                                <button class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold disabled:cursor-not-allowed disabled:opacity-50 dark:text-utility-white dark:bg-brand-blue-600 dark:shadow-[0px_0.5px_1px_0px_rgba(255,255,255,0.50)inset] dark:hover:bg-brand-blue-500 disabled:dark:hover:bg-brand-blue-600 mt-4 w-full" type="submit">Login</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Page -->
    <div id="forgotPasswordPage" class="hidden ml-5 min-h-screen flex-1 pr-6" style="padding-left:4.68rem;padding-top:0">
        <div>
            <div class="grid grid-cols-2">
                <div class="relative flex items-center justify-center sm:mt-0">
                    <div class="absolute inset-0 h-full px-[3.5rem]">
                        <div class="lines hidden sm:flex sm:h-full sm:w-full sm:justify-between">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="relative z-10 flex items-center justify-center sm:mt-0 sm:h-screen">
                        <img alt="Auth" fetchpriority="high" width="436" height="436" decoding="async" data-nimg="1" style="color:transparent" srcset="main-logo.png 1x, main-logo-1.png 2x" src="main-logo-1.png">
                    </div>
                </div>
                <div class="flex justify-center self-center">
                    <div class="flex w-[27.18rem] flex-col p-4">
                        <div class="flex justify-center">
                            <svg class="h-[3.8rem] w-[3.8rem] rounded-2xl" width="60" height="60" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="1080" height="1080" fill="#0026A3"></rect>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                            </svg>
                        </div>
                        <div class="my-8 flex flex-col items-center gap-2">
                            <span class="text-heading-6 text-dark-base-600">Reset Password</span>
                            <span class="text-body-m-regular dark:text-dark-base-500 text-center">Enter your email address and we'll send you a link to reset your password</span>
                        </div>
                        <form id="forgotPasswordForm" class="gap-4" novalidate="">
                            <div class="mb-5">
                                <div class="flex flex-col items-start">
                                    <label for="resetEmail" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Email Address</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="resetEmail" style="padding-right:16px" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="email" placeholder="Enter your email address" name="resetEmail" value="" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="text-body-s-regular dark:text-dark-base-500 text-center p-3 rounded-lg dark:bg-dark-fill-base-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    Check your email for the reset link. The link will expire in 1 hour.
                                </div>
                            </div>

                            <div class="space-y-3">
                                <button class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold disabled:cursor-not-allowed disabled:opacity-50 dark:text-utility-white dark:bg-brand-blue-600 dark:shadow-[0px_0.5px_1px_0px_rgba(255,255,255,0.50)inset] dark:hover:bg-brand-blue-500 disabled:dark:hover:bg-brand-blue-600 w-full" type="submit">
                                    Send Reset Link
                                </button>
                                
                                <button type="button" onclick="backToLogin()" class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold dark:text-dark-base-600 dark:bg-dark-stroke-base-400 hover:dark:bg-dark-stroke-base-600 w-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                    </svg>
                                    Back to Login
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="hidden min-h-screen dark:bg-dark-fill-base-400">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar collapsed fixed left-0 top-0 h-full dark:bg-dark-fill-base-300 dark:border-r dark:border-dark-stroke-contrast-400 z-50">
            <!-- Hamburger Menu Button - Fixed Position -->
            <div class="flex items-center justify-between p-4 dark:border-b dark:border-dark-stroke-contrast-400">
                <div class="flex items-center min-w-0">
                    <svg class="h-8 w-8 rounded-lg flex-shrink-0" width="32" height="32" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="1080" height="1080" fill="#0026A3"></rect>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                    </svg>
                    <span class="menu-text ml-3 text-body-l-semibold dark:text-dark-base-600 truncate">Cautio</span>
                </div>
                <button id="hamburgerBtn" class="hamburger-button p-2 rounded-lg hover:dark:bg-dark-fill-base-600 flex-shrink-0">
                    <div class="hamburger-menu-icon">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </div>
                </button>
            </div>

            <!-- Menu Items -->
            <nav class="mt-4">
                <div class="px-2 space-y-2">
                    <a href="#" onclick="showCustomersOverview()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="m22 21-3-3"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Customers Overview</span>
                    </a>
                    <a href="#" onclick="showFinance()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M12 2v20m8-9a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Finance</span>
                    </a>
                    <a href="#" onclick="showStock()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Stock</span>
                    </a>
                    <a href="#" onclick="showInventoryManagement()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/>
                            <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"/>
                            <path d="M12 3v6"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Inventory Management</span>
                    </a>
                    <a href="#" onclick="showGroundOperations()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Ground Operations</span>
                    </a>
                    <a href="#" onclick="showAddCredentials()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                            <circle cx="12" cy="16" r="1"/>
                            <path d="m7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                        <span class="menu-text ml-3 truncate">Add Credentials</span>
                    </a>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div id="mainContent" class="main-content sidebar-collapsed">
            <!-- Header -->
            <div class="dark:bg-dark-fill-base-300 dark:border-b dark:border-dark-stroke-contrast-400 p-4">
                <div class="flex items-center justify-between">
                    <h1 class="text-heading-6 dark:text-dark-base-600">Dashboard</h1>
                    <div class="flex items-center gap-4">
                        <!-- Customer Selection Dropdown -->
                        <div class="relative">
                            <button onclick="toggleCustomerDropdown()" class="flex items-center gap-2 px-4 py-2 rounded-lg dark:bg-dark-fill-base-600 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="M22 10h-6"/>
                                    <path d="M22 14h-6"/>
                                </svg>
                                <span id="selectedCustomerText">Select Customer</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m6 9 6 6 6-6"/>
                                </svg>
                            </button>
                            <div id="customerDropdown" class="hidden absolute right-0 mt-2 w-64 max-h-96 overflow-y-auto rounded-lg dark:bg-dark-fill-base-300 dark:border dark:border-dark-stroke-contrast-400 shadow-lg z-50">
                                <!-- Customer list will be populated here -->
                            </div>
                        </div>
                        <button onclick="logout()" class="flex items-center gap-2 px-4 py-2 rounded-lg dark:bg-dark-semantic-danger-300 dark:text-utility-white hover:dark:bg-dark-semantic-danger-300/90">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16,17 21,12 16,7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                            Logout
                        </button>
                    </div>
                </div>
            </div>

            <!-- Enhanced Tab Navigation -->
            <div class="enhanced-tabs dark:bg-dark-fill-base-300 dark:border-b dark:border-dark-stroke-contrast-400 p-4">
                <div class="flex space-x-1 overflow-x-auto">
                    <button onclick="switchTab('all')" class="tab-button active" id="allTab">
                        <span class="tab-label">All Customers</span>
                        <span class="tab-count" id="allCount">0</span>
                    </button>
                    <button onclick="switchTab('leads')" class="tab-button" id="leadsTab">
                        <span class="tab-label">Leads</span>
                        <span class="tab-count" id="leadsCount">0</span>
                    </button>
                    <button onclick="switchTab('poc')" class="tab-button" id="pocTab">
                        <span class="tab-label">Active POC</span>
                        <span class="tab-count" id="pocCount">0</span>
                    </button>
                    <button onclick="switchTab('pending')" class="tab-button" id="pendingTab">
                        <span class="tab-label">Pending Approvals</span>
                        <span class="tab-count" id="pendingCount">0</span>
                    </button>
                    <button onclick="switchTab('approved')" class="tab-button" id="approvedTab">
                        <span class="tab-label">Approved</span>
                        <span class="tab-count" id="approvedCount">0</span>
                    </button>
                </div>
            </div>

            <!-- Content Area -->
            <div class="p-6">
                <!-- Quick Stats -->
                <div class="mb-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Total Stock Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Total Stock</p>
                                    <p id="totalStockCount" class="text-heading-6 dark:text-brand-blue-600">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-brand-blue-600/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-brand-blue-600">
                                        <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/>
                                        <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"/>
                                        <path d="M12 3v6"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Available Stock Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Available Stock</p>
                                    <p id="availableStockCount" class="text-heading-6 dark:text-dark-success-600">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-dark-success-600/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-success-600">
                                        <path d="M9 12l2 2 4-4"/>
                                        <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.03 0 3.89.67 5.39 1.81"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Allocated Stock Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Allocated Stock</p>
                                    <p id="allocatedStockCount" class="text-heading-6 dark:text-dark-warning-600">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-dark-warning-600/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-warning-600">
                                        <path d="M12 9v4"/>
                                        <path d="M12 17h.01"/>
                                        <path d="M8 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-3"/>
                                        <path d="M9 3h6v2a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V3Z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Total Approved Customers Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Approved Customers</p>
                                    <p id="totalApprovedCount" class="text-heading-6 dark:text-dark-success-600">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-dark-success-600/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-success-600">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="m22 21-3-3"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Inward Devices Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Inward Devices</p>
                                    <p id="inwardDevicesCount" class="text-heading-6 dark:text-brand-blue-600">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-brand-blue-600/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-brand-blue-600">
                                        <path d="M12 9v6"/>
                                        <path d="M9 12h6"/>
                                        <circle cx="12" cy="12" r="10"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Outward Devices Card -->
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mb-2">Outward Devices</p>
                                    <p id="outwardDevicesCount" class="text-heading-6 dark:text-dark-semantic-danger-300">0</p>
                                </div>
                                <div class="p-3 rounded-full dark:bg-dark-semantic-danger-300/10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-semantic-danger-300">
                                        <path d="M16 16l-4-4m0 0l-4-4m4 4l4-4m-4 4l-4 4"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Container -->
                <div class="mb-8">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <h2 class="text-heading-6 dark:text-dark-base-600" id="contentTitle">All Customers</h2>
                            <div class="flex items-center gap-2">
                                <span class="text-body-s-regular dark:text-dark-base-500" id="totalCustomersCount">0 customers</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-3">
                            <!-- Enhanced Search -->
                            <div class="relative">
                                <input type="text" id="searchInput" placeholder="Search customers..." class="w-64 rounded-lg border p-3 pl-10 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-1/2 transform -translate-y-1/2 dark:text-dark-base-500">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="m21 21-4.35-4.35"/>
                                </svg>
                            </div>
                            
                            <button onclick="clearSearch()" class="px-4 py-3 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                                Clear
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Customer Content -->
                <div id="customersContent">
                    <div id="customersList" class="space-y-4">
                        <!-- Customer items will be populated here -->
                    </div>
                    
                    <div id="customersEmptyState" class="text-center py-12 hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4 dark:text-dark-base-500">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 10h-6"/>
                            <path d="M22 14h-6"/>
                        </svg>
                        <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Customers Found</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">Try adjusting your search or add new customers</p>
                    </div>
                </div>

                <!-- Stock Content (Initially Hidden) -->
                <div id="stockContent" class="hidden">
                    <iframe src="stock.html" class="w-full h-screen border-0 rounded-lg"></iframe>
                </div>

                <!-- Inventory Management Content (Initially Hidden) -->
                <div id="inventoryManagementContent" class="hidden">
                    <iframe src="inventory.html" class="w-full h-screen border-0 rounded-lg"></iframe>
                </div>

                <!-- Finance Content (Initially Hidden) -->
                <div id="financeContent" class="hidden">
                    <div class="text-center py-12">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4 dark:text-dark-base-500">
                            <path d="M12 2v20m8-9a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z"/>
                        </svg>
                        <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">Finance Management</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">Finance features coming soon</p>
                    </div>
                </div>

                <!-- Ground Operations Content (Initially Hidden) -->
                <div id="groundOperationsContent" class="hidden">
                    <div class="text-center py-12">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4 dark:text-dark-base-500">
                            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                        </svg>
                        <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">Ground Operations</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">Ground operations features coming soon</p>
                    </div>
                </div>

                <!-- Add Credentials Content (Initially Hidden) -->
                <div id="addCredentialsContent" class="hidden">
                    <div class="max-w-2xl">
                        <h2 class="text-heading-6 dark:text-dark-base-600 mb-6">Add Customer Credentials</h2>
                        
                        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 dark:border dark:border-dark-stroke-contrast-400">
                            <form id="addCredentialForm" class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Customer Name</label>
                                        <select name="customerId" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                                            <option value="">Select customer</option>
                                            <!-- Options will be populated dynamically -->
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Credential Type</label>
                                        <select name="credentialType" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                                            <option value="">Select type</option>
                                            <option value="login">Login Credentials</option>
                                            <option value="api">API Keys</option>
                                            <option value="database">Database Access</option>
                                            <option value="ftp">FTP/SFTP</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Service/Platform Name</label>
                                    <input type="text" name="serviceName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="e.g., AWS Console, Google Analytics, etc." required>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Username/Email</label>
                                        <input type="text" name="username" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter username or email">
                                    </div>
                                    <div>
                                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Password/Token</label>
                                        <input type="password" name="password" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter password or token">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Additional Details</label>
                                    <textarea name="additionalDetails" rows="3" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Server URLs, port numbers, special instructions, etc."></textarea>
                                </div>
                                
                                <div class="flex justify-end">
                                    <button type="submit" class="px-6 py-3 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                                        Save Credentials
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Credentials List -->
                        <div class="mt-8">
                            <h3 class="text-heading-7 dark:text-dark-base-600 mb-4">Stored Credentials</h3>
                            <div id="credentialsList" class="space-y-4">
                                <!-- Credentials will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Add Button -->
    <div id="floatingAddBtn" class="fixed bottom-8 right-8 z-40">
        <button onclick="toggleAddMenu()" class="w-14 h-14 rounded-full dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5v14"/>
                <path d="M5 12h14"/>
            </svg>
        </button>
        
        <!-- Add Menu -->
        <div id="addMenu" class="hidden absolute bottom-16 right-0 w-48 dark:bg-dark-fill-base-300 rounded-lg shadow-lg dark:border dark:border-dark-stroke-contrast-400 overflow-hidden">
            <button onclick="showAddLeadModal(); toggleAddMenu();" class="w-full text-left px-4 py-3 hover:dark:bg-dark-fill-base-600 text-body-s-semibold dark:text-dark-base-600 border-b dark:border-dark-stroke-contrast-400">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M22 10h-6"/>
                    <path d="M22 14h-6"/>
                </svg>
                Add Lead
            </button>
            <button onclick="showAddCustomerModal(); toggleAddMenu();" class="w-full text-left px-4 py-3 hover:dark:bg-dark-fill-base-600 text-body-s-semibold dark:text-dark-base-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M22 21l-3-3"/>
                </svg>
                Add Customer
            </button>
        </div>
    </div>

    <!-- Add Lead Modal -->
    <div id="addLeadModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">Add New Lead</h2>
                <button onclick="closeAddLeadModal()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <form id="addLeadForm" class="space-y-4">
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Lead Name</label>
                    <input type="text" name="leadName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter lead name" required>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Email</label>
                    <input type="email" name="leadEmail" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter email address" required>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Phone Number</label>
                    <input type="tel" name="leadPhone" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter phone number">
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Company</label>
                    <input type="text" name="leadCompany" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter company name">
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Lead Source</label>
                    <select name="leadSource" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                        <option value="">Select source</option>
                        <option value="website">Website</option>
                        <option value="referral">Referral</option>
                        <option value="social_media">Social Media</option>
                        <option value="cold_outreach">Cold Outreach</option>
                        <option value="event">Event/Conference</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Notes</label>
                    <textarea name="leadNotes" rows="3" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter any additional notes..."></textarea>
                </div>
                
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="flex-1 py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                        Add Lead
                    </button>
                    <button type="button" onclick="closeAddLeadModal()" class="flex-1 py-3 px-6 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Customer Modal -->
    <div id="addCustomerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">Add New Customer</h2>
                <button onclick="closeAddCustomerModal()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <form id="addCustomerForm" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Customer Name</label>
                        <input type="text" name="customerName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter customer name" required>
                    </div>
                    
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Email</label>
                        <input type="email" name="customerEmail" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter email address" required>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Phone Number</label>
                        <input type="tel" name="customerPhone" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter phone number" required>
                    </div>
                    
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Company</label>
                        <input type="text" name="customerCompany" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter company name" required>
                    </div>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Address</label>
                    <textarea name="customerAddress" rows="2" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter complete address" required></textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Account Manager</label>
                        <input type="text" name="accountManagerName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter account manager name" required>
                    </div>
                    
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Manager Phone</label>
                        <input type="tel" name="accountManagerPhone" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter manager phone" required>
                    </div>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">POC Type</label>
                    <select name="pocType" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                        <option value="">Select POC type</option>
                        <option value="no_poc">No POC</option>
                        <option value="free_poc">Free POC</option>
                        <option value="paid_poc">Paid POC</option>
                    </select>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">POC Duration</label>
                        <select id="pocDurationSelect" name="pocDuration" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                            <option value="">Select duration</option>
                            <option value="7">7 days</option>
                            <option value="15">15 days</option>
                            <option value="30">30 days</option>
                            <option value="45">45 days</option>
                            <option value="60">60 days</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>
                    
                    <div id="customDurationDiv" class="hidden">
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Custom Duration (days)</label>
                        <input type="number" name="customDuration" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter days" min="1">
                    </div>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Notes</label>
                    <textarea name="customerNotes" rows="3" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter any additional notes..."></textarea>
                </div>
                
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="flex-1 py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                        Add Customer
                    </button>
                    <button type="button" onclick="closeAddCustomerModal()" class="flex-1 py-3 px-6 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Customer Details Modal -->
    <div id="customerDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">Customer Details</h2>
                <button onclick="closeCustomerDetailsModal()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <div id="customerDetailsContent">
                <!-- Customer details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Manual Email Scheduling Modal -->
    <div id="manualEmailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-md">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">Schedule Email</h2>
                <button onclick="closeManualEmailModal()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="mb-4">
                <span class="text-body-l-regular dark:text-dark-base-500">Scheduling email for: </span>
                <span id="selectedCustomerName" class="text-body-l-semibold dark:text-dark-base-600"></span>
            </div>
            
            <form id="manualEmailForm" class="space-y-4">
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Email Type</label>
                    <select name="emailType" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                        <option value="">Select email type</option>
                        <option value="poc_reminder">POC Reminder</option>
                        <option value="followup">Follow-up</option>
                        <option value="onboarding_reminder">Onboarding Reminder</option>
                        <option value="custom">Custom Message</option>
                    </select>
                </div>
                
                <div id="customMessageDiv" class="hidden">
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Custom Message</label>
                    <textarea name="customMessage" rows="4" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter your custom message..."></textarea>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Date</label>
                        <input type="date" name="scheduleDate" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                    </div>
                    
                    <div>
                        <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Time</label>
                        <input type="time" name="scheduleTime" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" required>
                    </div>
                </div>
                
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="flex-1 py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                        Schedule Email
                    </button>
                    <button type="button" onclick="closeManualEmailModal()" class="flex-1 py-3 px-6 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- POC Action Modal -->
    <div id="pocActionModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-md">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">POC Action Required</h2>
                <button onclick="closePOCActionModal()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="mb-6">
                <p class="text-body-l-regular dark:text-dark-base-500">Customer: <span id="pocActionCustomerName" class="text-body-l-semibold dark:text-dark-base-600"></span></p>
                <p class="text-body-l-regular dark:text-dark-base-500">POC has been running for: <span id="pocDurationText" class="text-body-l-semibold dark:text-dark-base-600"></span></p>
            </div>
            
            <div class="space-y-3">
                <button onclick="extendPOC()" class="w-full py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                    Extend POC
                </button>
                <button onclick="convertToCustomer()" class="w-full py-3 px-6 rounded-lg dark:bg-dark-success-600 dark:text-utility-white hover:dark:bg-dark-success-500 text-body-s-semibold">
                    Convert to Customer
                </button>
                <button onclick="endPOC()" class="w-full py-3 px-6 rounded-lg dark:bg-dark-semantic-danger-300 dark:text-utility-white hover:dark:bg-dark-semantic-danger-300/90 text-body-s-semibold">
                    End POC
                </button>
                <button onclick="closePOCActionModal()" class="w-full py-3 px-6 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                    Remind Later
                </button>
            </div>
        </div>
    </div>

    <!-- Email Toast -->
    <div id="emailToast" class="fixed top-4 right-4 hidden z-50 max-w-sm p-4 rounded-lg shadow-lg dark:bg-dark-success-600 dark:text-utility-white">
        <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span id="emailToastMessage">Email sent successfully!</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
